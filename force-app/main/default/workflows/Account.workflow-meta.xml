<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Account_Bank_Details_Rejected_For_Update</fullName>
        <description>Account Bank Details Rejected For Update</description>
        <protected>false</protected>
        <recipients>
            <recipient>Account_Bank_Details</recipient>
            <type>group</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Account_Bank_Details_Rejected_For_Updates</template>
    </alerts>
    <alerts>
        <fullName>BSB_and_Account_Details_submission_Email_to_Finance_Manager</fullName>
        <description>BSB and Account Details submission Email to Finance Manager</description>
        <protected>false</protected>
        <recipients>
            <recipient>sachin@psagtechnologies.com.p1</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Bsb_And_AccountDetail_Submission_Template</template>
    </alerts>
    <alerts>
        <fullName>Email_Alert_for_Account_mandatory_fields</fullName>
        <description>Email Alert for Account mandatory fields</description>
        <protected>false</protected>
        <recipients>
            <recipient>sachin@psagtechnologies.com.p1</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Template_for_Account_mandatory_fields</template>
    </alerts>
    <alerts>
        <fullName>Email_to_Finance_Manager_on_BSB_and_Account_Details_submission</fullName>
        <description>Email to Finance Manager on BSB and Account Details submission</description>
        <protected>false</protected>
        <recipients>
            <recipient>sachin@psagtechnologies.com.p1</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Bsb_And_AccountDetail_Submission_Template</template>
    </alerts>
    <alerts>
        <fullName>Send_BSB_Account_Details_Form_to_Customer</fullName>
        <description>Send BSB Account Details Form to Customer</description>
        <protected>false</protected>
        <recipients>
            <field>Customer_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>noreply@tripadeal.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>unfiled$public/ordexp_More_Information_Required_to_Process_Refund</template>
    </alerts>
    <alerts>
        <fullName>Send_create_new_password</fullName>
        <description>Send create new password</description>
        <protected>false</protected>
        <recipients>
            <field>Customer_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>noreply@tripadeal.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>unfiled$public/Account_Created</template>
    </alerts>
    <alerts>
        <fullName>Send_create_new_password_NZ</fullName>
        <description>Send create new password - NZ</description>
        <protected>false</protected>
        <recipients>
            <field>Customer_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>noreply@tripadeal.co.nz</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PIF_Emails/Account_Created_NZ</template>
    </alerts>
    <alerts>
        <fullName>Send_new_Account_email</fullName>
        <description>Send new Account email</description>
        <protected>false</protected>
        <recipients>
            <field>Customer_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>noreply@tripadeal.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>unfiled$public/Account_Creation</template>
    </alerts>
    <alerts>
        <fullName>Send_new_Account_email_NZ</fullName>
        <description>Send new Account email - NZ</description>
        <protected>false</protected>
        <recipients>
            <field>Customer_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>noreply@tripadeal.co.nz</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>unfiled$public/Account_Creation_NZ</template>
    </alerts>
    <fieldUpdates>
        <fullName>Finance_Approvel_Pending</fullName>
        <field>Finance_Approvel_Status__c</field>
        <literalValue>Pending</literalValue>
        <name>Finance Approvel Pending</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Finance_Status_Approved</fullName>
        <field>Finance_Approvel_Status__c</field>
        <literalValue>Approved</literalValue>
        <name>Finance Status Approved</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Finance_Status_Rejected</fullName>
        <field>Finance_Approvel_Status__c</field>
        <literalValue>Rejected</literalValue>
        <name>Finance Status Rejected</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_T_C_s_Sent</fullName>
        <field>Merchant_Terms_and_Conditions_Sent__c</field>
        <literalValue>1</literalValue>
        <name>Update T+C&apos;s Sent</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_customer_email</fullName>
        <field>Customer_Email__c</field>
        <formula>PersonEmail</formula>
        <name>Update customer email</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <outboundMessages>
        <fullName>Update_Formula_to_fire_DS</fullName>
        <apiVersion>43.0</apiVersion>
        <endpointUrl>https://workflow.congamerge.com/OBMListener.ashx</endpointUrl>
        <fields>Id</fields>
        <fields>Merchant_Terms_and_Conditions__c</fields>
        <includeSessionId>true</includeSessionId>
        <integrationUser>adam.bennett@tripadeal.co.nz</integrationUser>
        <name>Update Formula to fire DS</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <rules>
        <fullName>Account Missing Mandatory Fields Notification</fullName>
        <actions>
            <name>Email_Alert_for_Account_mandatory_fields</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <formula>IF(ISPICKVAL(Merchant_Type_Site__c  , &apos;International&apos;), OR(ISBLANK(Name),ISBLANK( AccountNumber ),ISBLANK( c2g__CODABankIBANNumber__c ),ISBLANK( c2g__CODABankSWIFTNumber__c ),ISBLANK( BSB__c )),  IF(ISPICKVAL(Merchant_Type_Site__c  , &apos;Domestic AU&apos;),  OR(ISBLANK(Name),ISBLANK( AccountNumber ),ISBLANK( BSB__c )),  IF(ISPICKVAL(Merchant_Type_Site__c  , &apos;Domestic NZ&apos;), OR(ISBLANK(Name),ISBLANK( AccountNumber )), false) ) )</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>BsbAndAccountDetailSubmissionRule</fullName>
        <actions>
            <name>BSB_and_Account_Details_submission_Email_to_Finance_Manager</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.ordexp_cust_bsb_account__c</field>
            <operation>equals</operation>
            <value>New Details Received</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Fire Merchants E-sign %28Conga%2BDS%29</fullName>
        <actions>
            <name>Update_T_C_s_Sent</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Formula_to_fire_DS</name>
            <type>OutboundMessage</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.Merchant_Terms_and_Conditions_Sent__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Send_T_C_S_to_merchant_for_E_sign__c</field>
            <operation>equals</operation>
            <value>Please Send</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Manage account password creation</fullName>
        <actions>
            <name>Update_customer_email</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <formula>AND(CONTAINS( PersonEmail , &apos;@mailinator.com&apos;),  RecordTypeId  = &apos;01228000000yaOQAAY&apos;)</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Send Account Creation Email - AU</fullName>
        <actions>
            <name>Send_new_Account_email</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Account.LastName</field>
            <operation>notEqual</operation>
            <value>null</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.site__c</field>
            <operation>equals</operation>
            <value>AU</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.RecordTypeId</field>
            <operation>notEqual</operation>
            <value>TC Person Account</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Send Account Creation Email - NZ</fullName>
        <actions>
            <name>Send_new_Account_email_NZ</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Account.LastName</field>
            <operation>notEqual</operation>
            <value>null</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.site__c</field>
            <operation>equals</operation>
            <value>NZ</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.RecordTypeId</field>
            <operation>notEqual</operation>
            <value>TC Person Account,WT Person Account</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Update TAD Order Account Email</fullName>
        <active>false</active>
        <formula>ISCHANGED(Company_Email__c)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>When Request Customer and BSB Details Field is changed</fullName>
        <actions>
            <name>Send_BSB_Account_Details_Form_to_Customer</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <formula>AND(ISCHANGED( ordexp_cust_bsb_account__c) ,  ISPICKVAL(ordexp_cust_bsb_account__c,&apos;Send Form&apos;) )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>zaapit__Call  - Account %28Exmaple by ZaapIT%29</fullName>
        <active>false</active>
        <description>Call Account - by ZaapIT</description>
        <formula>false</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>zaapit__Call %28Exmaple by ZaapIT%29</fullName>
        <active>false</active>
        <description>Call Account Example by ZaapIT (don&apos;t activated - an example)</description>
        <formula>false</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>zaapit__Email - Account %28Exmaple by ZaapIT%29</fullName>
        <actions>
            <name>zaapit__Email</name>
            <type>Task</type>
        </actions>
        <active>false</active>
        <description>Email Account - by ZaapIT</description>
        <formula>false</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>zaapit__Send Letter  - Account %28Exmaple by ZaapIT%29</fullName>
        <actions>
            <name>zaapit__SendLetterAccount</name>
            <type>Task</type>
        </actions>
        <active>false</active>
        <description>Send Letter Account - by ZaapIT</description>
        <formula>false</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>zaapit__Send Quote - Account %28Exmaple by ZaapIT%29</fullName>
        <actions>
            <name>zaapit__SendQuoteAccount</name>
            <type>Task</type>
        </actions>
        <active>false</active>
        <description>Send Quote Account - by ZaapIT</description>
        <formula>false</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <tasks>
        <fullName>zaapit__Call</fullName>
        <assignedToType>owner</assignedToType>
        <dueDateOffset>1</dueDateOffset>
        <notifyAssignee>true</notifyAssignee>
        <priority>Normal</priority>
        <protected>false</protected>
        <status>Not Started</status>
        <subject>Call</subject>
    </tasks>
    <tasks>
        <fullName>zaapit__Email</fullName>
        <assignedToType>owner</assignedToType>
        <dueDateOffset>1</dueDateOffset>
        <notifyAssignee>true</notifyAssignee>
        <priority>Normal</priority>
        <protected>false</protected>
        <status>Not Started</status>
        <subject>Email</subject>
    </tasks>
    <tasks>
        <fullName>zaapit__SendLetterAccount</fullName>
        <assignedToType>owner</assignedToType>
        <dueDateOffset>1</dueDateOffset>
        <notifyAssignee>true</notifyAssignee>
        <priority>Normal</priority>
        <protected>false</protected>
        <status>Not Started</status>
        <subject>Send Letter</subject>
    </tasks>
    <tasks>
        <fullName>zaapit__SendQuoteAccount</fullName>
        <assignedToType>owner</assignedToType>
        <dueDateOffset>1</dueDateOffset>
        <notifyAssignee>true</notifyAssignee>
        <priority>Normal</priority>
        <protected>false</protected>
        <status>Not Started</status>
        <subject>Send Quote</subject>
    </tasks>
</Workflow>
