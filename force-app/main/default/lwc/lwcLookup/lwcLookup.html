<template>

		<div class="slds-form-element">
				<div class="slds-form-element__control">

						<div class="slds-combobox_container" if:false={isValueSelected}>
								<div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open">
										<div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
												<lightning-input disabled={disableddata} class={inputClass} onchange={handleChange} type="search" autocomplete="off" label={label} onclick={handleClick}
																				 required={required} value ={inclusionNotSelected} field-level-help={helpText} placeholder={placeholder}
																				 onblur={handleInputBlur}></lightning-input>
													<p if:true={isInclusionSelected} style="color:#FF0000; width:50px" >
														Please select option from picklist
										</p>								 
										</div>
								</div>
						</div>
						<template if:true={isValueSelected}>
								<label class="slds-form-element__label" for="combobox-id-5" id="combobox-label-id-35">{label}</label>
								<template if:true={required}>
										<span style="color:red">*</span>
								</template>
								<div tabindex="0" class="slds-combobox_container slds-has-selection">
										<div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click">
												<div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_left-right"
														 role="none">
														<span
																	class="slds-icon_container  slds-combobox__input-entity-icon"
																	title="Account"
																	style="padding-left:5px">
																<lightning-icon icon-name={selectedIconName} alternative-text={selectedIconName}
																								size="x-small"></lightning-icon>
														</span>
														<template if:true={disableddata}>
																<button disabled  type="button" 
																				class="slds-input_faux slds-combobox__input slds-combobox__input-value"
																				aria-labelledby="combobox-label-id-34 combobox-id-5-selected-value"
																				id="combobox-id-5-selected-value" aria-controls="listbox-id-5" aria-expanded="false"
																				aria-haspopup="listbox">
																		<span class="slds-truncate" id="combobox-value-id-19">{selectedRecordName}</span>
																		<span><img style="height:20px; width:20px; padding-left:5px;" src={selectedOtherField}>  </span>
																</button>
																<button disabled class="slds-button slds-button_icon slds-input__icon slds-input__icon_right"
																				title="Remove selected option" onclick={handleCommit}>
																		<lightning-icon icon-name="utility:close" alternative-text="Remove selected option"
																										size="x-small"></lightning-icon>
																</button>
														</template>
														<template if:false={disableddata}>
																<button  type="button" 
																				class="slds-input_faux slds-combobox__input slds-combobox__input-value"
																				aria-labelledby="combobox-label-id-34 combobox-id-6-selected-value"
																				id="combobox-id-6-selected-value" aria-controls="listbox-id-5" aria-expanded="false"
																				aria-haspopup="listbox">
																		<span class="slds-truncate" id="combobox-value-id-20">{selectedRecordName}</span>
																		<span><img style="height:20px; width:20px; padding-left:5px;" src={selectedOtherField}>  </span>
																</button>
																<button  class="slds-button slds-button_icon slds-input__icon slds-input__icon_right"
																				title="Remove selected option" onclick={handleCommit}>
																		<lightning-icon icon-name="utility:close" alternative-text="Remove selected option"
																										size="x-small"></lightning-icon>
																</button>
														</template>
												</div>
										</div>
								</div>
						</template>
						<template if:true={showRecentRecords}>
								<div id="listbox-id-4" tabindex="0" onblur={handleBlur} onmousedown={handleDivClick}
										 class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid" role="listbox">
										<ul class="slds-listbox slds-listbox_vertical" role="presentation">
												<template for:each={recordsList} for:item="rec">
														<li role="presentation" key={rec.id} class="slds-listbox__item">
																<div onclick={handleSelect} data-id={rec.id} data-mainfield={rec.mainField}
																		 data-subfield={rec.subField}
																		 class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta"
																		 role="option">

																		<span class="slds-media__body">
																				<span class="slds-listbox__option-text slds-listbox__option-text_entity">
																						<span>
																								<lightning-icon icon-name={selectedIconName} alternative-text={selectedIconName}
																																size="small"></lightning-icon>
																								<span style="padding-left:5px;"><mark>{rec.mainField}</mark></span> 
																								<span><img style="height:20px; width:20px;padding-left:5px" src={rec.subField}>  </span>                     

																						</span>
																				</span>
																		</span>
																</div>
														</li>
												</template>
										</ul>
								</div>
						</template>
				</div>
		</div>
</template>